{
  "openrpc": "1.2.1",
  "info": {
    "version": "1.0.0",
    "title": "Gannet JSON-RPC API",
    "description": "Gannet is an API for booking flights, hotels, and more. Uses JSON-RPC 2.0 protocol.",
    "license": {
      "name": "UNLICENSED"
    }
  },
  "servers": [
    {
      "url": "https://gannet-xyz.julia.id/jsonrpc",
      "name": "Production"
    }
  ],
  "methods": [
    {
      "name": "token:create",
      "summary": "Create authentication token",
      "description": "Authenticates user credentials and returns a JWT token for subsequent API calls.",
      "tags": [{ "name": "auth" }],
      "params": [
        {
          "name": "username",
          "description": "User's username",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "password",
          "description": "User's password",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "signature",
          "description": "Request signature for authentication",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "token": {
              "type": "string",
              "description": "JWT authentication token"
            }
          },
          "required": ["result", "token"]
        }
      }
    },
    {
      "name": "flight:schedule:list",
      "summary": "Search for available flight schedules",
      "description": "Returns available flight schedules with fare information for the specified route, date, and passenger count.",
      "tags": [{ "name": "flight" }],
      "params": [
        {
          "name": "carriers",
          "description": "List of airline carrier codes to search (e.g., ['QG', 'GA'])",
          "required": true,
          "schema": {
            "type": "array",
            "items": { "$ref": "schemas.json#/definitions/CarrierCode" }
          }
        },
        {
          "name": "paxCount",
          "description": "Passenger count by type",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/PaxCount" }
        },
        {
          "name": "schedules",
          "description": "List of route searches (origin, destination, dates)",
          "required": true,
          "schema": {
            "type": "array",
            "items": { "$ref": "schemas.json#/definitions/FlightScheduleRequest" }
          }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "info": { "$ref": "schemas.json#/definitions/FlightScheduleInfo" },
            "schedules": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/Schedule" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "flight:schedule:fare",
      "summary": "Get detailed fare breakdown for selected flights",
      "description": "Returns detailed fare information including tax breakdown for the selected flight schedule and fare class.",
      "tags": [{ "name": "flight" }],
      "params": [
        {
          "name": "info",
          "description": "Request information including passenger counts",
          "required": true,
          "schema": {
            "type": "object",
            "properties": {
              "totalPaxs": { "$ref": "schemas.json#/definitions/PaxCount" }
            },
            "required": ["totalPaxs"]
          }
        },
        {
          "name": "scheduleFareDetail",
          "description": "Selected schedule and fare details",
          "required": true,
          "schema": {
            "type": "array",
            "items": { "$ref": "schemas.json#/definitions/ScheduleFareDetailRequest" }
          }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "info": {
              "type": "object",
              "properties": {
                "totalPaxs": { "$ref": "schemas.json#/definitions/PaxCount" },
                "segments": {
                  "type": "array",
                  "items": { "$ref": "schemas.json#/definitions/Segment" }
                },
                "journeys": {
                  "type": "array",
                  "items": { "$ref": "schemas.json#/definitions/Journey" }
                }
              }
            },
            "scheduleFareDetail": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/ScheduleFareDetailResponse" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "flight:book",
      "summary": "Create a flight booking",
      "description": "Creates a flight booking (PNR) with passenger details for the selected schedule and fare.",
      "tags": [{ "name": "flight" }],
      "params": [
        {
          "name": "info",
          "description": "Booking information including contact and passenger details",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/FlightBookingInfo" }
        },
        {
          "name": "scheduleFareDetail",
          "description": "Selected schedule and fare details",
          "required": true,
          "schema": {
            "type": "array",
            "items": { "$ref": "schemas.json#/definitions/ScheduleFareDetailRequest" }
          }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "pnrs": {
              "type": "array",
              "description": "List of created PNRs",
              "items": { "$ref": "schemas.json#/definitions/FlightPNR" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "flight:sync",
      "summary": "Synchronize/retrieve flight booking details",
      "description": "Retrieves the current status and details of an existing flight booking.",
      "tags": [{ "name": "flight" }],
      "params": [
        {
          "name": "bookingID",
          "description": "Unique booking identifier",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "pnrs": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/FlightPNR" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "flight:issue",
      "summary": "Issue flight tickets",
      "description": "Issues tickets for an existing flight booking. Converts a booked PNR to issued tickets.",
      "tags": [{ "name": "flight" }],
      "params": [
        {
          "name": "bookingID",
          "description": "Unique booking identifier",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "pnrs": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/FlightPNR" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "flight:cancel",
      "summary": "Cancel a flight booking",
      "description": "Cancels an existing flight booking. Only booked (not issued) bookings can be cancelled.",
      "tags": [{ "name": "flight" }],
      "params": [
        {
          "name": "bookingID",
          "description": "Unique booking identifier",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:destinations:list",
      "summary": "Search for hotel destinations",
      "description": "Returns a list of hotel destinations matching the search term.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "term",
          "description": "Search term for destination (city name)",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "destinations": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/Destination" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:searchby:destination",
      "summary": "Search hotels by destination",
      "description": "Returns available hotels for a destination with room count and dates.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "destinationKey",
          "description": "Encrypted destination key from hotel:destinations:list",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "totalRooms",
          "description": "Total number of rooms needed",
          "required": true,
          "schema": { "type": "integer" }
        },
        {
          "name": "totalAdults",
          "description": "Total number of adult guests",
          "required": true,
          "schema": { "type": "integer" }
        },
        {
          "name": "totalChilds",
          "description": "Total number of child guests",
          "required": true,
          "schema": { "type": "integer" }
        },
        {
          "name": "checkInDate",
          "description": "Check-in date (YYYY-MM-DD)",
          "required": true,
          "schema": { "type": "string", "format": "date" }
        },
        {
          "name": "checkOutDate",
          "description": "Check-out date (YYYY-MM-DD)",
          "required": true,
          "schema": { "type": "string", "format": "date" }
        },
        {
          "name": "childrenAges",
          "description": "Ages of children (required if totalChilds > 0)",
          "required": false,
          "schema": {
            "type": "array",
            "items": { "type": "integer" }
          }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "searchKeyData": { "$ref": "schemas.json#/definitions/SearchKeyData" },
            "hotelLists": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/HotelResult" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:fetch:detail",
      "summary": "Get detailed hotel information",
      "description": "Returns detailed information about a hotel including facilities, amenities, and photos.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "id",
          "description": "Hotel ID from search results",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelInformation": { "$ref": "schemas.json#/definitions/HotelInformation" }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:fetch:rooms",
      "summary": "Get available rooms for a hotel",
      "description": "Returns available rooms with pricing and cancellation policies for a specific hotel.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "id",
          "description": "Hotel ID from search results",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "searchKeyData",
          "description": "Search key from hotel:searchby:destination response",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/SearchKeyData" }
        },
        {
          "name": "agentCodes",
          "description": "List of agent codes to get pricing for",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/AgentCodes" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelRoomInformation": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/HotelRoomInformation" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:room:checkprice",
      "summary": "Check current room price",
      "description": "Verifies current pricing for selected rooms before booking.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "roomSelectedData",
          "description": "Selected room data for price check",
          "required": true,
          "schema": {
            "type": "array",
            "items": { "$ref": "schemas.json#/definitions/RoomSelectedData" }
          }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelRoomCheckPriceResponse": { "$ref": "schemas.json#/definitions/HotelRoomCheckPriceResponse" }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:book",
      "summary": "Create a hotel booking",
      "description": "Creates a hotel booking with guest details for the selected rooms.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "roomSelectedData",
          "description": "Selected room data for booking",
          "required": true,
          "schema": {
            "type": "array",
            "items": { "$ref": "schemas.json#/definitions/RoomSelectedData" }
          }
        },
        {
          "name": "roomGuestData",
          "description": "Guest information for the booking",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/RoomGuestData" }
        },
        {
          "name": "clientReference",
          "description": "Client reference for the booking",
          "required": false,
          "schema": { "type": "string" }
        },
        {
          "name": "remarkList",
          "description": "List of special requests/remarks",
          "required": false,
          "schema": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelBookingResponses": {
              "type": "array",
              "items": { "$ref": "schemas.json#/definitions/HotelBookingResponse" }
            }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:fetch:booking",
      "summary": "Get hotel booking details",
      "description": "Retrieves the details of an existing hotel booking.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "agentCode",
          "description": "Agent code",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/AgentCode" }
        },
        {
          "name": "bookingID",
          "description": "Unique booking identifier",
          "required": true,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelDetailResponse": { "$ref": "schemas.json#/definitions/HotelBookingResponse" }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:issue",
      "summary": "Issue hotel voucher",
      "description": "Issues a voucher for an existing hotel booking, confirming the reservation.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "agentCode",
          "description": "Agent code",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/AgentCode" }
        },
        {
          "name": "bookingID",
          "description": "Unique booking identifier",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "remark",
          "description": "Optional remark for the issuance",
          "required": false,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelIssueResponse": { "$ref": "schemas.json#/definitions/HotelBookingResponse" }
          },
          "required": ["result"]
        }
      }
    },
    {
      "name": "hotel:cancel",
      "summary": "Cancel a hotel booking",
      "description": "Cancels an existing hotel booking. Cancellation charges may apply based on policy.",
      "tags": [{ "name": "hotel" }],
      "params": [
        {
          "name": "agentCode",
          "description": "Agent code",
          "required": true,
          "schema": { "$ref": "schemas.json#/definitions/AgentCode" }
        },
        {
          "name": "bookingID",
          "description": "Unique booking identifier",
          "required": true,
          "schema": { "type": "string" }
        },
        {
          "name": "remark",
          "description": "Reason for cancellation",
          "required": false,
          "schema": { "type": "string" }
        }
      ],
      "result": {
        "name": "response",
        "schema": {
          "type": "object",
          "properties": {
            "result": { "$ref": "schemas.json#/definitions/Result" },
            "hotelCancelResponse": { "$ref": "schemas.json#/definitions/HotelBookingResponse" }
          },
          "required": ["result"]
        }
      }
    }
  ],
  "components": {
    "schemas": {}
  }
}
